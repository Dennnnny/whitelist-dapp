{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-path-tsx","path":"/blog/from-js-to-ts/","result":{"data":{"markdownRemark":{"html":"<h1>å¾ js åˆ° ts</h1>\n<p>ä»Šå¤©å…ˆç¨å¾®èªªä¸€ä¸‹æœ€è¿‘åšçš„æ”¹è®Š<br>\nåŸæœ¬æœ€é–‹å§‹é€™å€‹éƒ¨è½æ ¼ æ˜¯ç”¨ js å¯«çš„<br>\nç„¶å¾Œæœ€è¿‘å‰›å¥½åœ¨å…¬å¸æœ‰è¨è«–åˆ° js èˆ‡ ts çš„å¥½å£å·®åˆ¥<br>\næ‰€ä»¥æˆ‘å°±æ‰“ç®—ä¾†åšä¸€æ¬¡<br>\nå¾ js åˆ° ts çš„éç¨‹</p>\n<p>å…¶å¯¦ä¹‹å‰åƒåŠ å…­è§’çš„å‰ç«¯æ™‚å…‰å±‹çš„æ™‚å€™<br>\nä¹Ÿæœ‰ç”¨ ts åšéä¸€ä»½å°ˆæ¡ˆäº†<br>\nç•¶æ™‚è¦ºå¾— å¥½é›£ç”¨ï¼¸ï¼¤ ç¶æ‰‹ç¶è…³çš„æ„Ÿè¦º<br>\nå› ç‚ºä¸€ç›´å™´éŒ¯ ä¸€ç‰‡ç´… ğŸ˜¢</p>\n<p>ä½†é€™æ¬¡åœ¨è½‰æ›çš„éç¨‹ä¸­<br>\nå…¶å¯¦æ²’æœ‰æˆ‘æƒ³çš„é‚£éº¼éº»ç…©äº†<br>\nåè€Œæœ‰æ™‚å¾Œè¦ºå¾— æœ‰è¢«æé†’åˆ°å“ªé‚Šå¯èƒ½å‡ºéŒ¯äº†<br>\nè¦ºå¾—æ»¿å¥½çš„</p>\n<p>ä½†åœ¨è½‰æ›çš„éç¨‹ä¸­é‚„æ˜¯æ™‚ä¸æ™‚å™´ä¸€äº›éŒ¯<br>\nä»¥ä¸‹å°±åˆ†äº«ä¸€ä¸‹ å¯èƒ½æœƒçŠ¯çš„éŒ¯ï¼¸ï¼¤</p>\n<ul>\n<li><code>Type '{}' is missing the following properties from type </code></li>\n</ul>\n<p>å¦‚æœåœ¨ prop è£¡é¢æ²’æœ‰è¨­å®šå¯ä»¥ä¸çµ¦é€™å€‹åƒæ•¸çš„æ™‚å€™<br>\næœƒå‡ºç¾é€™å€‹éŒ¯èª¤è¨Šæ¯<br>\næŒ‡çš„æ˜¯ ä½ æ²’æœ‰æ”¾è‘—é€™å€‹åƒæ•¸åœ¨ propType è£¡é¢<br>\nè§£æ±ºè¾¦æ³•ç•¶ç„¶å°±æ˜¯è¨˜å¾—æ”¾ prop<br>\nä½†å¦‚æœæ˜¯ä¸ä¸€å®šè¦æ”¾çš„ prop<br>\nå¯ä»¥åœ¨å®£å‘Š type çš„æ™‚å€™åŠ ä¸Šä¸€å€‹?</p>\n<pre class=\"grvsc-container abyss\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15 mtki\">type</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">TYPE</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  prop_necessary</span><span class=\"mtk7\">:</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtki\">string</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  prop_unnecessary</span><span class=\"mtk7\">?:</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtki\">string</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span></code></pre>\n<ul>\n<li><code>cannot be used as a JSX component. Its return type 'ReactNode' is not a valid JSX element. Type 'undefined' is not assignable to type 'Element | null'.</code></li>\n</ul>\n<p>é€™æ˜¯åœ¨ render jsx(tsx)çš„æ™‚å€™<br>\nå¦‚æœæ²’æœ‰æ­£ç¢ºçš„æ”¾ return è£¡é¢çš„æ±è¥¿æœƒå™´çš„éŒ¯<br>\nä¾‹å¦‚æˆ‘é€™æ¨£å¯«çš„ :</p>\n<pre class=\"grvsc-container abyss\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// some Component</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">//  type from prop</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15 mtki\">const</span><span class=\"mtk1\"> renderPage </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  type1: &lt;&gt;render this page1&lt;/&gt;,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  type2: &lt;&gt;render this page2&lt;/&gt;,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">return</span><span class=\"mtk1\"> renderPage[type];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// ä½†æ‡‰è©²è¦é€™æ¨£å¯«</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">return</span><span class=\"mtk1\"> &lt;&gt;{renderPage[type]}&lt;/&gt;;</span></span></span></code></pre>\n<p>ä¸€æ¨£å¯ä»¥ä½¿ç”¨ enum çš„æ–¹å¼ä¾†ç”¢ä¸åŒé¡å‹çš„é é¢<br>\nä½†éœ€è¦åœ¨æœ€å¤–é¢åŠ ä¸Šä¸€å±¤åŒ…èµ·ä¾†</p>\n<p>å…¶å¯¦å¤§å¤šæ•¸çš„å•é¡Œéƒ½å¯ä»¥ç”¨éŒ¯èª¤è¨Šæ¯ä¾†æ‰¾åˆ°è§£æ³•<br>\næ‰€ä»¥ä¹Ÿä¸ç”¨å¤ªæ“”å¿ƒæ²’è¾¦æ³•å¯«å¥½ ğŸ¤·â€â™‚ï¸<br>\nè·Ÿä¸Šæ¬¡çš„å°ˆæ¡ˆæ¯”èµ·ä¾†<br>\né€™æ¬¡çš„ ts ä¹‹è·¯å¥½åƒæ²’é‚£éº¼å›°é›£äº†<br>\nå¾ˆé–‹å¿ƒç®—æ˜¯å®Œæˆäº†ä¸€æ¬¡ js to ts<br>\n\\ç¹¼çºŒåŠªåŠ›/</p>\n<p>ä»¥ä¸Šæ˜¯ä»Šå¤©çš„åˆ†äº« ğŸ‘‹</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .abyss { background-color: #000c18; }\n  .abyss .mtku {\n    text-decoration: underline;\n    text-underline-position: under;\n  }\n  .abyss .mtki { font-style: italic; }\n  .abyss .mtk15 { color: #9966B8; }\n  .abyss .mtk1 { color: #6688CC; }\n  .abyss .mtk5 { color: #FFEEBB; }\n  .abyss .mtk7 { color: #225588; }\n  .abyss .mtk3 { color: #384887; }\n  .abyss .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"September 23, 2022","path":"/blog/from-js-to-ts","title":"","type":"blog","image_cover":"https://images.unsplash.com/photo-1579468118864-1b9ea3c0db4a?fit=crop&w=1000&q=80"}}},"pageContext":{"id":"208f351d-a0cb-51d0-b91f-4ee012e3ec30","frontmatter__path":"/blog/from-js-to-ts","__params":{"frontmatter__path":"blog"}}},"staticQueryHashes":["3764592887"]}